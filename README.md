# УОФ - Условное Оформление Формы

Модуль добавляет "синтаксический сахар" для условного оформления форм

## Установка
Для работы с библиотекой, вам необходимо скопировать весь код в новый общий модуль, например "ДФИ".

## Примеры использования
*Чем плохо стандартное оформление?*

При стандартном оформлении приходится писать много кода и конструкций.

```bsl
	УОФормы = ЭтаФорма.УсловноеОформление;
	УОФормы.Элементы.Очистить();

  // Красным Плановый остаток меньше 0
	
	Элемент = УОФормы.Элементы.Добавить();
	
	ПолеЭлемента = Элемент.Поля.Элементы.Добавить();
	ПолеЭлемента.Поле = Новый ПолеКомпоновкиДанных("табБанкСчетовПлановыйОстаток");
	ПолеЭлемента.Использование = Истина;
	
	ОтборЭлемента =Элемент.Отбор.Элементы.Добавить(Тип("ЭлементОтбораКомпоновкиДанных"));
	ОтборЭлемента.ЛевоеЗначение = Новый ПолеКомпоновкиДанных("табБанкСчетов.ПлановыйОстаток");
	ОтборЭлемента.ВидСравнения = ВидСравненияКомпоновкиДанных.Меньше;
	ОтборЭлемента.ПравоеЗначение = 0;
	
	Элемент.Оформление.УстановитьЗначениеПараметра("ЦветТекста", WebЦвета.Красный);
```
То же самое, но с использованием модуля

```bsl
	УОФормы = ЭтаФорма.УсловноеОформление;
	УОФормы.Элементы.Очистить();
	
	// // Красным Плановый остаток меньше 0
	ЭлементОформления = УОФормы.Элементы.Добавить();
	
	УОФ.ДобавитьЭлементОтбора(ЭлементОформления, "ТаблицаНомеровЗаказов.ЕстьНеверныеСимволы", "Равно", Истина); 
	УОФ.УстановитьСвойствоЭлементуОформления(ЭлементОформления, "ЦветТекста", WebЦвета.Красный);

```
## Группа элементов и раскраска всей строки таблицы (всех полей)

```bsl
	УОФормы = ЭтаФорма.УсловноеОформление;
	УОФормы.Элементы.Очистить();
	
	// 1. Есть неверные символы по заказам в таблице номеров заказов
	ЭлементОформления = УОФормы.Элементы.Добавить();
	УОФ.ДобавитьВсеПоляТаблицыУсловногоОформления(ЭлементОформления, ЭтаФорма, "ТаблицаНомеровЗаказов");
	
	ГруппаЭлементовОтбора = НеваУнфЛаб_УО.ДобавитьГруппуОтбора(ЭлементОформления, "ГруппаИ");
	УОФ.ДобавитьЭлементОтбораВГруппу(ГруппаЭлементовОтбора, "ТаблицаНомеровЗаказов.ЕстьНеверныеСимволы", "Равно", Истина);
	УОФ.ДобавитьЭлементОтбораВГруппу(ГруппаЭлементовОтбора, "ТаблицаНомеровЗаказов.КоличествоЗаказов", "Больше", 0); 
	УОФ.УстановитьЦветФонаЭлементуОформления(ЭлементОформления, WebЦвета.Коралловый);
```
## Сравнение с другим полем (колонкой) и указание только выбранных колонок для подсветки

```bsl
	УОФормы = ЭтаФорма.УсловноеОформление;
	УОФормы.Элементы.Очистить();
	
  // 4. Различные цены МП и цены 1с в Общей таблице
	ЭлементОформления = УОФормы.Элементы.Добавить();
	ПоляОформления = "Цена1С,ЦенаМП";
	УОФ.ДобавитьПоляТаблицыУсловногоОформления(ЭлементОформления, "ТаблицаОбщая", ПоляОформления);
	
	УОФ.ДобавитьЭлементОтбора(	ЭлементОформления, 
												      "ТаблицаОбщая.Цена1С", 
												      "НеРавно", 
												      "ТаблицаОбщая.ЦенаМП",
												      Истина); 
	УОФ.УстановитьЦветФонаЭлементуОформления(ЭлементОформления, WebЦвета.Коралловый);

```
